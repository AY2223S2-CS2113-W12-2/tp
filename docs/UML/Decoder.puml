@startuml
'https://plantuml.com/sequence-diagram

hide footbox

 -> ":CompanyListDecoder": read()
     activate ":CompanyListDecoder"
        ":CompanyListDecoder" -> ":Storage" :checkFileAccess(filePath)
        activate ":Storage"
        ":Storage" --> ":CompanyListDecoder"
        ":CompanyListDecoder" -> "f:File" :(filePath)
        activate "f:File"
            "f:File" --> ":CompanyListDecoder"
        ":CompanyListDecoder" -> "s:Scanner"
        activate "s:Scanner"
            loop Next line exists
                ":CompanyListDecoder" -> "s:Scanner" : nextLine()
                "s:Scanner" --> ":CompanyListDecoder"

                ":CompanyListDecoder" -> ":CompanyListDecoder" :parseInput(line)
                activate ":CompanyListDecoder"
                ":CompanyListDecoder" --> ":CompanyListDecoder"
                deactivate ":CompanyListDecoder"

                ":CompanyListDecoder" -> ":CompanyListDecoder" : writeToCompanyList(companyList, parsedInput)
                activate ":CompanyListDecoder"
                ":CompanyListDecoder" --> ":CompanyListDecoder"
                deactivate ":CompanyListDecoder"
            end
        deactivate "f:File"
        deactivate "s:Scanner"
        <-- ":CompanyListDecoder"
        deactivate ":CompanyListDecoder"

@enduml